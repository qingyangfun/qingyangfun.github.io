
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="我们的网站">
      
      
        <meta name="author" content="Stephen Lo">
      
      
        <link rel="canonical" href="https://looveeloveqingyang.cc/lora_e5/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Lora e5 - Hello Qingyang</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#ffc105">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-101995557-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#features" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="Hello Qingyang" class="md-header__button md-logo" aria-label="Hello Qingyang" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hello Qingyang
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lora e5
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/helloqingyang/mkdocs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    helloqingyang/mkdocs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Hello Qingyang" class="md-nav__button md-logo" aria-label="Hello Qingyang" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Hello Qingyang
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/helloqingyang/mkdocs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    helloqingyang/mkdocs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          关于这个网站
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="关于这个网站" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          关于这个网站
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        ABOUT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../version/" class="md-nav__link">
        VERSION
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        LICENSE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          记录每一天
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="记录每一天" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          记录每一天
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%97%B6%E9%97%B4%E8%A1%A8/" class="md-nav__link">
        时间表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2019/" class="md-nav__link">
        2019年
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2020/" class="md-nav__link">
        2020年
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2021/" class="md-nav__link">
        2021年
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2022/" class="md-nav__link">
        2022年
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          我们在户外
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="我们在户外" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          我们在户外
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%88%91%E4%BB%AC%E5%9C%A8%E6%88%B7%E5%A4%96%E6%9D%BF%E5%9D%97%E8%AF%B4%E6%98%8E/" class="md-nav__link">
        板块说明
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%93%88%E5%B7%B4%E9%9B%AA%E5%B1%B1/" class="md-nav__link">
        哈巴雪山
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%B4%A1%E5%98%8E%E5%A4%A7%E7%8E%AF%E7%BA%BF%E5%BE%92%E6%AD%A5/" class="md-nav__link">
        贡嘎大环线徒步
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%9B%9B%E5%A7%91%E5%A8%98%E4%BA%8C%E5%B3%B0/" class="md-nav__link">
        四姑娘山二峰
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%B4%9B%E5%85%8B%E7%BA%BF%E5%BE%92%E6%AD%A5/" class="md-nav__link">
        洛克线徒步
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%B2%B3%E8%A5%BF%E8%B5%B0%E5%BB%8A%E8%87%AA%E9%A9%BE/" class="md-nav__link">
        河西走廊自驾
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E9%9D%92%E6%B5%B7%E6%B9%96%E9%AA%91%E8%A1%8C/" class="md-nav__link">
        环青海湖骑行
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%A2%85%E9%87%8C%E5%8C%97%E5%9D%A1%E5%BE%92%E6%AD%A5/" class="md-nav__link">
        梅里北坡徒步
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%93%88%E5%B7%B4%E4%BA%8C%E5%88%B7/" class="md-nav__link">
        哈巴二刷
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          一路走来
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="一路走来" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          一路走来
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BC%80%E5%A7%8B/" class="md-nav__link">
        开始
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%88%9B%E4%B8%9A/" class="md-nav__link">
        创业
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%A8%B3%E5%AE%9A%E5%99%A8/" class="md-nav__link">
        稳定器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9B%B4%E5%A5%BD%E7%9A%84%E8%87%AA%E5%B7%B1/" class="md-nav__link">
        更好的自己
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%84%9F%E6%83%85%E6%98%AF%E5%A6%82%E4%BD%95%E6%B6%88%E5%A4%B1%E7%9A%84/" class="md-nav__link">
        感情是如何消失的
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84%E7%BB%93%E6%9D%9F%E6%96%B9%E5%BC%8F/" class="md-nav__link">
        需要一个什么样的结束方式
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%A6%82%E6%9E%9C%E8%BF%98%E8%83%BD%E5%9C%A8%E4%B8%80%E8%B5%B7/" class="md-nav__link">
        如果还能在一起
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%94%9F%E5%91%BD%E4%B8%AD%E6%9C%80%E9%87%8D%E8%A6%81%E7%9A%84%E4%B8%80%E5%A4%A9/" class="md-nav__link">
        生命中最重要的一天
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%8F%8D%E6%80%9D/" class="md-nav__link">
        反思
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%86%8D%E8%A7%81/" class="md-nav__link">
        再见
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          一些瞬间
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="一些瞬间" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          一些瞬间
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../moment_2017/" class="md-nav__link">
        2017的一些瞬间
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../moment_2018/" class="md-nav__link">
        2018的一些瞬间
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../moment_2019/" class="md-nav__link">
        2019的一些瞬间
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../moment_2020/" class="md-nav__link">
        2020的一些瞬间
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../moment_2021/" class="md-nav__link">
        2021的一些瞬间
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../moment_2022/" class="md-nav__link">
        2022的一些瞬间
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    FEATURES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-list" class="md-nav__link">
    PART LIST
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#harware-overview" class="md-nav__link">
    HARWARE OVERVIEW
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specification" class="md-nav__link">
    SPECIFICATION
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application" class="md-nav__link">
    APPLICATION
  </a>
  
    <nav class="md-nav" aria-label="APPLICATION">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#application-notes" class="md-nav__link">
    Application Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    GETTING STARTED
  </a>
  
    <nav class="md-nav" aria-label="GETTING STARTED">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-quick-start-of-at-commands" class="md-nav__link">
    1. Quick start of AT Commands
  </a>
  
    <nav class="md-nav" aria-label="1. Quick start of AT Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-preparation" class="md-nav__link">
    1.1 Preparation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-basic-at-commands" class="md-nav__link">
    1.2 Basic AT Commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-connect-and-send-data-to-ttn" class="md-nav__link">
    1.3 Connect and send Data to TTN
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-develop-with-stm32cube-mcu-package" class="md-nav__link">
    2. Develop with STM32Cube MCU Package
  </a>
  
    <nav class="md-nav" aria-label="2. Develop with STM32Cube MCU Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-preparations" class="md-nav__link">
    2.1 Preparations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-gpio-configuration-overview" class="md-nav__link">
    2.2 GPIO Configuration Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-build-the-lorawan-end-node-example" class="md-nav__link">
    2.3 Build the LoRaWAN End Node Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-modify-your-device-eui-application-eui-application-key-and-your-lorawan-region" class="md-nav__link">
    2.4 Modify your Device EUI, Application EUI, Application KEY and your LoRawan Region
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-connect-to-ttn" class="md-nav__link">
    2.5 Connect to TTN
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#power-management" class="md-nav__link">
    POWER MANAGEMENT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-fd-usage" class="md-nav__link">
    CAN FD Usage
  </a>
  
    <nav class="md-nav" aria-label="CAN FD Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#features-of-can-bus" class="md-nav__link">
    Features of CAN Bus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-address" class="md-nav__link">
    Register Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-can-fd" class="md-nav__link">
    Configuring CAN FD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send-a-can-frame" class="md-nav__link">
    Send a CAN Frame
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-a-can-frame" class="md-nav__link">
    Read a CAN Frame
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-notes_1" class="md-nav__link">
    APPLICATION NOTES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schematic-online-viewer" class="md-nav__link">
    SCHEMATIC ONLINE VIEWER
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    RESOURCES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tech-support" class="md-nav__link">
    TECH SUPPORT
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>Lora e5</h1>

<p><img alt="" src="https://raw.githubusercontent.com/Longan-Labs/lora_e5_can_res/main/images/102991697_Feature-02.png" /></p>
<p>LoRa-E5 CAN FD Development Kit is a compact development toolset for you to unlock the powerful performance of the <a href="https://www.seeedstudio.com/LoRa-E5-Wireless-Module-p-4745.html">LoRa-E5 STM32WLE5JC</a> as well as CAN FD and RS485 communication. We also provide a simple waterproof case and solar charging interface, you can easily make a sensor node placed outdoors.</p>
<p>LoRa-E5 Dev Board embedded with LoRa-E5 STM32WLE5JC Module that supports LoRaWAN protocol on global frequency band. It leads out full GPIOs of LoRa-E5 supporting various data protocols and interfaces including RS-485, Grove, male/female headers, etc. It would be a perfect choice for fast testing and rapid prototyping of your LoRa IoT projects.</p>
<p>LoRa-E5 Dev Board embedded with LoRa-E5 STM32WLE5JC Module, which is the world-first combo of LoRa RF and MCU chip into one single tiny chip and is FCC and CE certified. It is powered by ARM Cortex-M4 core and Semtech SX126X LoRa chip, supports both LoRaWAN and LoRa protocol on the worldwide frequency and (G)FSK, BPSK, (G)MSK, and LoRa modulations.</p>
<p>Learn more about <a href="https://wiki.seeedstudio.com/LoRa-E5_STM32WLE5JC_Module/">LoRa-E5</a> here.</p>
<p>LoRa-E5 Dev Board has a long-distance transmission range of LoRa-E5 up to 10km in an open area. The sleep current of LoRa-E5 modules on board is as low as 2.1 uA(WOR mode). It is designed with industrial standards with a wide working temperature at -40 ℃ ~ 85℃, high sensitivity between -116.5 dBm ~ -136 dBm, and power output up to +20.8dBm at 3.3V.</p>
<p>LoRa-E5 Dev Board also has rich interfaces. Developed to unlock the full functionality of the LoRa-E5 module, LoRa-E5 Dev Board has led out full 28 pins of LoRa-E5 and provides with rich interfaces including Grove connectors, RS-485 terminal, male/female pin headers for you to connect sensors and modules with different connectors and data protocols, saving your time on wire soldering. You could also easily power the board by connecting the battery holder with 2 AA batteries, enabling temporary use when lacking an external power source. It is a user-friendly board for easy testing and rapid prototyping.</p>
<p>Since LoRa-E5 is a LoRaWAN chip with an MCU, there are three main ways to utilize the LoRa-E5 Dev Board:</p>
<p>1: Connect LoRa-E5 Dev Board to PC via USB and control by AT commands</p>
<p>There is a built-in USB to UART function on board, you could just simply connect the LoRa-E5 Dev Board to your PC with a USB type C cable, and use serial communication software to send AT commands and read data from the board</p>
<p>2: Connect LoRa-E5 Dev Board to another mainboard via UART and control by AT commands</p>
<p>For example, connect LoRa-E5 Dev Board to Seeeduino XIAO and the Expansion Board via UART, and send AT commands and read data from Seeeduino XIAO through Arduino IDE serial monitor.</p>
<p>3: Develop user application by using SDK</p>
<p>Develop your own LoRa development board with MCU function by using STM32Cube Programmer, which is the SDK officially provided by STMicroelectronics. To download this SDK resource, please find the resources in learning and document down below.</p>
<p>With all the outstanding features listed above, the LoRa-E5 Dev Board will be a superior choice for IoT device development, testing, prototyping, and applications in long-distance, ultra-low power consumption IoT scenarios like smart agriculture, smart office, and smart industry.</p>
<p>If you are unfamiliar with LoRa and LoRaWAN technology, please check out this blog <a href="https://www.seeedstudio.com/blog/2020/08/03/lorapedia-an-introduction-of-lora-and-lorawan-technology/">LoRapedia</a> in detail.</p>
<h2 id="features"><strong>FEATURES</strong><a class="headerlink" href="#features" title="Permanent link">&para;</a></h2>
<hr />
<ul>
<li>Ultra-low power consumption and high performance</li>
<li>Easy testing and rapid prototyping</li>
<li>CAN FD communication</li>
<li>RS485 Interface</li>
<li>Global LoRaWAN and loRa frequency plan supported</li>
<li>Long-distance transmission range to 10km(ideal value in open area)</li>
</ul>
<h2 id="part-list"><strong>PART LIST</strong><a class="headerlink" href="#part-list" title="Permanent link">&para;</a></h2>
<hr />
<ul>
<li>LoRa-E5 CAN FD Development board</li>
<li>Antenna (EU868/US915)</li>
<li>Waterproof case</li>
</ul>
<h2 id="harware-overview"><strong>HARWARE OVERVIEW</strong><a class="headerlink" href="#harware-overview" title="Permanent link">&para;</a></h2>
<hr />
<p><img alt="" src="https://raw.githubusercontent.com/Longan-Labs/lora_e5_can_res/main/images/HW1.png" /></p>
<p>1 - 2x9 Header</p>
<p>2 - SWD Interface</p>
<p>3 - Type-C USB connnector</p>
<p>4 - User button - Connected to PB3</p>
<p>5 - CAN&amp;485&amp;Power Input connector</p>
<p>6 - 120Ω Switch for CAN Bus</p>
<p>7 - Power switch</p>
<p>8 - 3.7V Lipo battery </p>
<p>9 - Solar Input, 4.5~6V</p>
<p>A - Antenna</p>
<p>B - Reset button</p>
<p>C/D - Grove connector for UART and I2C</p>
<p>E - Boot button</p>
<p>F - Led indicators for CAN Bus</p>
<h2 id="specification"><strong>SPECIFICATION</strong><a class="headerlink" href="#specification" title="Permanent link">&para;</a></h2>
<hr />
<table>
<thead>
<tr>
<th>Item</th>
<th>Specifications</th>
</tr>
</thead>
<tbody>
<tr>
<td>Voltage supply</td>
<td>5V/USB, 3.7V Lipo Battery, 4.5~28V DC input</td>
</tr>
<tr>
<td>Voltage output</td>
<td>3.3V</td>
</tr>
<tr>
<td>Power output</td>
<td>Up to 20.8dBm at 3.3V</td>
</tr>
<tr>
<td>Frequency</td>
<td>EU868 / US915 / AU915 / AS923 / KR920 / IN865</td>
</tr>
<tr>
<td>Protocol</td>
<td>LoRaWAN</td>
</tr>
<tr>
<td>Sensitivity</td>
<td>116.5dBm ~ -136dBm</td>
</tr>
<tr>
<td>Modulation</td>
<td>LoRa, (G)FSK, (G)MSK, BPSK</td>
</tr>
<tr>
<td>CAN 2.0 speed</td>
<td>Up to 1Mb/s</td>
</tr>
<tr>
<td>CAN FD speed</td>
<td>Up to 5Mb/s</td>
</tr>
</tbody>
</table>
<h2 id="application"><strong>APPLICATION</strong><a class="headerlink" href="#application" title="Permanent link">&para;</a></h2>
<hr />
<ul>
<li>A common Lora usage scenario, that is, building a Lora sensor network. A large number of sensors in the industry are transmitted through CAN Bus. With the Lora-E5 CAN Bus Dev board you can use the on-board CAN Bus function to read the sensors, and send the data through Lora.</li>
<li>Since the circuit board can receive 5-28V input, the user can connect the circuit board to the OBD interface, get the data of the car and send it out through Lora</li>
</ul>
<h3 id="application-notes"><strong><em>Application Notes</em></strong><a class="headerlink" href="#application-notes" title="Permanent link">&para;</a></h3>
<p><strong>1. Factroy AT Firmare</strong></p>
<p>LoRa-E5 series has a built-in AT command firmware, which supports LoRaWAN Class A/B/C protocol and a wide frequency plan: EU868/US915/AU915/AS923/KR920/IN865. With this AT command firmware, developers can easily and quickly build their prototype or application.</p>
<p>The AT command firmware contains a bootloader for DFU and the AT application. The "PB13/SPI_SCK/BOOT" pin is used to control LoRa-E5 to stay in the bootloader or jump to the AT application. When PB13 is HIGH, the module will jump to AT application after reset, with a default baud rate of 9600. When PB13 is LOW (press the "Boot" button on LoRa-E5 Dev Board or LoRa-E5 mini), the module will stay in the bootloader, and keep transmitting "C" character every 1S at baud rate 115200.</p>
<div class="admonition attention">
<p class="admonition-title">Attention<ul>
<li>Factory AT Firmware is programmed with RDP(Read Protection) Level 1, developers need to remove RDP first with STM32Cube Programmer. Note that regression RDP to level 0 will cause a flash memory mass to erase and the Factory AT Firmware can't be restored again.</li>
<li>The "PB13/SPI_SCK/BOOT" pin on the LoRa-E5 module is just a normal GPIO, not the "BOOT0" pin of the MCU. This "PB13/SPI_SCK/BOOT" pin is used in the bootloader of the Factory AT firmware, to decide to jump to APP or stay in bootloader(for DFU). The real "BOOT0" pin doesn't pinout to the module, so users need to be careful when developing the low-power applications.</li>
</ul>
</p>
</div>
<p><strong>2. Clock Configuration</strong></p>
<p>2.1 HSE </p>
<ul>
<li>
<p>32MHz TCXO</p>
</li>
<li>
<p>TCXO power supply: PB0-VDD_TCXO</p>
</li>
</ul>
<p>2.2 LSE</p>
<ul>
<li>32.768KHz crystal oscillator</li>
</ul>
<p><strong>3. RF Switch</strong></p>
<p><strong>LoRa-E5 module ONLY transmits through RFO_HP:</strong></p>
<ul>
<li>
<p>Receive: PA4=1, PA5=0</p>
</li>
<li>
<p>Transmit(high output power, SMPS mode): PA4=0, PA5=1</p>
</li>
</ul>
<h2 id="getting-started"><strong>GETTING STARTED</strong><a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<hr />
<h3 id="1-quick-start-of-at-commands"><strong><em>1. Quick start of AT Commands</em></strong><a class="headerlink" href="#1-quick-start-of-at-commands" title="Permanent link">&para;</a></h3>
<h4 id="11-preparation">1.1 Preparation<a class="headerlink" href="#11-preparation" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Step 0.</strong> Install <a href="https://sparks.gogo.co.nz/ch340.html">the driver for CH340G</a></p>
</li>
<li>
<p><strong>Step 1.</strong> Connect LoRa-E5 Development Board to PC via a Type-C cable</p>
</li>
<li>
<p><strong>Step 2.</strong> Open a serial tool(eg. Arudino Serial Monitor), select the right COM port, set baudrate to 9600 and select Both NL &amp; CR</p>
</li>
<li>
<p><strong>Step 3.</strong> Try to send "AT" and you will see the response.</p>
</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/4.png" /></p>
<h4 id="12-basic-at-commands"><strong><em>1.2 Basic AT Commands</em></strong><a class="headerlink" href="#12-basic-at-commands" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>AT+ID // Read all, DevAddr(ABP), DevEui(OTAA), AppEui(OTAA)</p>
</li>
<li>
<p>AT+ID=DevAddr // Read DevAddr</p>
</li>
<li>
<p>AT+ID=DevEui // Read DevEui</p>
</li>
<li>
<p>AT+ID=AppEui // Read AppEui</p>
</li>
<li>
<p>AT+ID=DevAddr,"devaddr" // Set new DevAddr</p>
</li>
<li>
<p>AT+ID=DevEui,"deveui" // Set new DevEui</p>
</li>
<li>
<p>AT+ID=AppEui,"appeui" // Set new AppEui</p>
</li>
<li>
<p>AT+KEY=APPKEY,"16 bytes length key" // Change application session key</p>
</li>
<li>
<p>AT+DR=band // Change the Band Plans</p>
</li>
<li>
<p>AT+DR=SCHEME // Check current band</p>
</li>
<li>
<p>AT+CH=NUM, 0-7 // Enable channel 0~7</p>
</li>
<li>
<p>AT+MODE="mode" // Select work mode: LWOTAA, LWABP or TEST</p>
</li>
<li>
<p>AT+JOIN // Send JOIN request</p>
</li>
<li>
<p>AT+MSG="Data to send" // Use to send string format frame which is no need to be confirmed by the server</p>
</li>
<li>
<p>AT+CMSG="Data to send" // Use to send string format frame which must be confirmed by the server</p>
</li>
<li>
<p>AT+MSGHEX="xx xx xx xx" // Use to send hex format frame which is no need to be confirmed by the server</p>
</li>
<li>
<p>AT+CMSGHEX="xx xx xx xx" // Use to send hex format frame which must be confirmed by the server</p>
</li>
</ul>
<h4 id="13-connect-and-send-data-to-ttn">1.3 Connect and send Data to TTN<a class="headerlink" href="#13-connect-and-send-data-to-ttn" title="Permanent link">&para;</a></h4>
<ul>
<li>Step 1: Load into TTN website: <a href="https://www.thethingsnetwork.org">https://www.thethingsnetwork.org</a> and create your account, then access "Console" and first click on "APPLICATIONS"</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/products/113990896/wiki/s2.1.png" /></p>
<ul>
<li>Step 2: Add an Application</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/2.png" /></p>
<ul>
<li>Step3: Copy the <code>APPLICATION EUIS</code> and click "register device" button to add your device to TTN</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/1.png" /></p>
<ul>
<li>
<p>Step4: Send AT command <code>AT+ID=DevEu</code>i to get your Device EUI, send AT command <code>AT+KEY=APPKEY,"11223344556677889900112233445566"</code> to set the App Key, and send AT command <code>AT+ID=AppEui,"APPLICATION EUIS you copy just now"</code> to set the App EUI, finally fill all these EUIs and Key to the page to register your device
<div class="highlight"><pre><span></span><code>Tx: AT+ID=DevEui
Rx: +ID: DevEui, 2C:F7:F1:20:24:90:16:1D
Tx: AT+KEY=APPKEY,&quot;11223344556677889900112233445566&quot;
Rx: +KEY: APPKEY 11223344556677889900112233445566
Tx: AT+ID=AppEui,&quot;70B3D57ED003F06A&quot;
Rx: +ID: AppEui, 70:B3:D5:7E:D0:03:F0:6A
</code></pre></div>
<img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/3.png" /></p>
</li>
<li>
<p>Step 5: Register your LoRaWAN Gateway on TTN Console,
please refer to the instruction shown in <a href="https://wiki.seeedstudio.com/The-Things-Indoor-Gateway/#step-2-gateway-registration-on-ttn-console">The Things Indoor Gateway wiki page: The Things Indoor Gateway Get Started with SenseCAP</a></p>
</li>
<li>
<p>Step 6: Type the following AT Commmand to connect to TTN</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>Tx: AT+ID
Rx: +ID: DevAddr, 24:90:16:1D
+ID: DevEui, 2C:F7:F1:20:24:90:16:1D
+ID: AppEui, 70:B3:D5:7E:D0:03:F0:6A

Tx: AT+DR=EU868
Rx: +DR: EU868

Tx: AT+CH=NUM,0-2
Rx: +CH: NUM, 0-2

// If you are using US915 FSB2
// Tx: AT+DR=US915
// Rx: +DR: US915
// Tx: AT+CH=NUM,8-15
// Rx: +CH: NUM, 8-15

Tx: AT+MODE=LWOTAA
Rx: +MODE: LWOTAA

Tx: AT+JOIN
Rx: +JOIN: Start
+JOIN: NORMAL
+JOIN: Network joined
+JOIN: NetID 000013 DevAddr 26:01:5F:66
+JOIN: Done
</code></pre></div>
<p>If you see <code>+JOIN: Network joined</code> in your serial console, congratulations, your device have already connect to TTN! You can also check your device status at the "overview" page.</p>
<p><img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/5.jpg" /></p>
<ul>
<li>Step 7: Type the following AT Command to send data to TTN</li>
</ul>
<div class="highlight"><pre><span></span><code>// send string &quot;HELLO&quot; to TTN 
Tx: AT+MSG=HELLO
Rx: +MSG: Start
+MSG: FPENDING
+MSG: RXWIN2, RSSI -112, SNR -1.0
+MSG: Done
// send hex &quot;00 11 22 33 44&quot; 
Tx: AT+MSGHEX=&quot;00 11 22 33 44&quot;
Rx: +MSGHEX: Start
+MSGHEX: Done
</code></pre></div>
<p><img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/6.jpg" /></p>
<ul>
<li>Step 8: For more information about AT Commands, please refer to <a href="https://files.seeedstudio.com/products/317990687/res/LoRa-E5%20AT%20Command%20Specification_V1.0%20.pdf">LoRa-E5 AT Command Specification</a></li>
</ul>
<h3 id="2-develop-with-stm32cube-mcu-package"><strong><em>2. Develop with STM32Cube MCU Package</em></strong><a class="headerlink" href="#2-develop-with-stm32cube-mcu-package" title="Permanent link">&para;</a></h3>
<p>This section is for LoRa-E5 Mini or LoRa-E5 Dev Board, aiming at creating a LoRaWAN End Node with STM32Cube MCU Package for STM32WL series(SDK), to join and send data to LoRaWAN Network.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Please read <a href="https://wiki.seeedstudio.com/LoRa_E5_mini/#21-erase-factory-at-firmware">Erase Factory AT Firmware</a> section first, as if we need to erase the Factory AT Firmware before we program with SDK. After erasing the Factory AT Firmware it CANNOT be recovered.</p>
</div>
<h4 id="21-preparations">2.1 Preparations<a class="headerlink" href="#21-preparations" title="Permanent link">&para;</a></h4>
<p>Softwares:</p>
<ul>
<li>
<p>Install <a href="https://my.st.com/content/my_st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-ides/stm32cubeide.html">STM32CubeIDE(to compilation and debug)</a> </p>
</li>
<li>
<p>Install <a href="https://my.st.com/content/my_st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-programmers/stm32cubeprog.license=1614563305396.product=STM32CubePrg-W64.version=2.6.0.html">STM32CubeProgrammer(to program STM32 devices)</a></p>
</li>
<li>
<p>Download and extract <a href="https://my.st.com/content/my_st_com/en/products/embedded-software/mcu-mpu-embedded-software/stm32-embedded-software/stm32cube-mcu-mpu-packages/stm32cubewl.license=1608693595598.product=STM32CubeWL.version=1.0.0.html#overview">STM32Cube MCU Package for STM32WL series(SDK)</a></p>
</li>
</ul>
<p>Hardwares:</p>
<ul>
<li>
<p>LoRaWAN Gateway connected to LoRaWAN Network Server(e.g. TTN)</p>
</li>
<li>
<p>ST-Link connect to the SWD interface.</p>
</li>
</ul>
<h4 id="22-gpio-configuration-overview">2.2 GPIO Configuration Overview<a class="headerlink" href="#22-gpio-configuration-overview" title="Permanent link">&para;</a></h4>
<ul>
<li>As the hardware design of LoRa-E5 series is a bit different with NUCLEO-WL55JC, the official STM32WL55JC development board from ST, developers need to reconfigure some gpios, to adapt the SDK example to LoRa-E5 series. We have already reconfigured gpios in this example, but we think it is nessary to point out the difference.</li>
</ul>
<table>
<thead>
<tr>
<th>SDK Example Label</th>
<th>GPIO of NUCLEO-WL55JC</th>
<th>GPIO of LoRa-E5</th>
</tr>
</thead>
<tbody>
<tr>
<td>RF_CTRL1</td>
<td>PC4</td>
<td>PA4</td>
</tr>
<tr>
<td>RF_CTRL2</td>
<td>PC5</td>
<td>PA5</td>
</tr>
<tr>
<td>RF_CTRL3</td>
<td>PC3</td>
<td>None</td>
</tr>
<tr>
<td>BUT1</td>
<td>PA0</td>
<td>PB13 (Boot Button)</td>
</tr>
<tr>
<td>BUT2</td>
<td>PA1</td>
<td>None</td>
</tr>
<tr>
<td>BUT3</td>
<td>PC6</td>
<td>None</td>
</tr>
<tr>
<td>LED1</td>
<td>PB15</td>
<td>None</td>
</tr>
<tr>
<td>LED2</td>
<td>PB9</td>
<td>PB5</td>
</tr>
<tr>
<td>LED3</td>
<td>PB11</td>
<td>None</td>
</tr>
<tr>
<td>DBG1</td>
<td>PB12</td>
<td>PA0 (D0 Button)</td>
</tr>
<tr>
<td>DBG2</td>
<td>PB13</td>
<td>PB10</td>
</tr>
<tr>
<td>DBG3</td>
<td>PB14</td>
<td>PB3</td>
</tr>
<tr>
<td>DBG4</td>
<td>PB10</td>
<td>PB4</td>
</tr>
<tr>
<td>Usart</td>
<td>Usart2(PA2/PA3)</td>
<td>Usart1(PB6/PB7)</td>
</tr>
</tbody>
</table>
<h4 id="23-build-the-lorawan-end-node-example">2.3 Build the LoRaWAN End Node Example<a class="headerlink" href="#23-build-the-lorawan-end-node-example" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Download and copy <a href="https://github.com/seeed-lora/LoRa-E5-LoRaWAN-End-Node.git">this repo</a> to your SDK folder <code>en.stm32cubewl\STM32Cube_FW_WL_V1.0.0\Projects\NUCLEO-WL55JC\Applications\LoRaWAN</code> and replace the origin <code>en.stm32cubewl\STM32Cube_FW_WL_V1.0.0\Projects\NUCLEO-WL55JC\Applications\LoRaWAN\LoRaWAN_End_Node</code> folder</p>
</li>
<li>
<p>Open the <code>LoRaWAN_End_Node</code> example with <code>STM32CubeIDE</code>, by double click file <code>LoRaWAN_End_Node\STM32CubeIDE\.project</code></p>
</li>
<li>
<p>Click <code>Build Debug</code> for this example, it should work without any errors</p>
</li>
</ul>
<p><img alt="build" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/build.png" /></p>
<h4 id="24-modify-your-device-eui-application-eui-application-key-and-your-lorawan-region">2.4 Modify your Device EUI, Application EUI, Application KEY and your LoRawan Region<a class="headerlink" href="#24-modify-your-device-eui-application-eui-application-key-and-your-lorawan-region" title="Permanent link">&para;</a></h4>
<ul>
<li>Please follow the <a href="https://wiki.seeedstudio.com/LoRa_E5_mini/#13-connect-and-send-data-to-ttn">guide</a> here to setup your TTN application, get your Application EUI and copy it to the macro definition <code>LORAWAN_JOIN_EUI</code> in <code>LoRaWAN/App/se-identity.h</code> , for example, my Application EUI is <code>70 B3 D5 7E D0 03 F0 6A</code> :</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">// LoRaWAN/App/se-identity.h</span>

<span class="cm">/*!</span>
<span class="cm"> * App/Join server IEEE EUI (big endian)</span>
<span class="cm"> */</span><span class="w"></span>
<span class="cp">#define LORAWAN_JOIN_EUI                                   { 0x70, 0xB3, 0xD5, 0x7E, 0xD0, 0x03, 0xF0, 0x6A }</span>
</code></pre></div>
<ul>
<li>Also, you can modify your Device EUI and Application Key, by setting the macro definition <code>LORAWAN_DEVICE_EUI</code> and <code>LORAWAN_NWK_KEY</code> in <code>LoRaWAN/App/se-identity.h</code> , don't forget to ensure <code>LORAWAN_DEVICE_EUI</code> and <code>LORAWAN_NWK_KEY</code> are the same as the <code>Device EUI</code> and <code>App Key</code> in TTN console.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">// LoRaWAN/App/se-identity.h</span>

<span class="cm">/*!</span>
<span class="cm"> * end-device IEEE EUI (big endian)</span>
<span class="cm"> */</span><span class="w"></span>
<span class="cp">#define LORAWAN_DEVICE_EUI                                 { 0x00, 0x80, 0xE1, 0x15, 0x00, 0x07, 0x4C, 0xD5 }</span>

<span class="cm">/*!</span>
<span class="cm"> * Network root key</span>
<span class="cm"> */</span><span class="w"></span>
<span class="cp">#define LORAWAN_NWK_KEY                                    2B,7E,15,16,28,AE,D2,A6,AB,F7,15,88,09,CF,4F,3C</span>
</code></pre></div>
<p><img alt="" src="https://github.com/seeed-lora/LoRa-E5-LoRaWAN-End-Node/blob/master/Doc/key.png?raw=true" /></p>
<ul>
<li>The default LoRaWAN Region is <code>EU868</code>, you can modify it, by setting the macro definition <code>ACTIVE_REGION</code> in <code>LoRaWAN/App/lora_app.h</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">// LoRaWAN/App/lora_app.h</span>

<span class="cm">/* LoraWAN application configuration (Mw is configured by lorawan_conf.h) */</span><span class="w"></span>
<span class="cm">/* Available: LORAMAC_REGION_AS923, LORAMAC_REGION_AU915, LORAMAC_REGION_EU868, LORAMAC_REGION_KR920, LORAMAC_REGION_IN865, LORAMAC_REGION_US915, LORAMAC_REGION_RU864 */</span><span class="w"></span>
<span class="cp">#define ACTIVE_REGION                               LORAMAC_REGION_EU868</span>
</code></pre></div>
<p><img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/region.png" /></p>
<ul>
<li>After modification, please <strong>rebuild the example</strong> and program to your LoRa-E5. Open <code>STM32CubeProgrammer</code>, connect ST-LINK to your PC, hold <code>RESET Button</code> of your Device, then click <code>Connect</code> and release <code>RESET Button</code>:</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program1.png" /></p>
<ul>
<li>Make sure the Read Out Protection is <code>AA</code>, if it is shown as <code>BB</code>, select <code>AA</code> and click <code>Apply</code>:</li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program2.png" /></p>
<ul>
<li>Now, go to the <code>Erasing &amp; Programming</code> page, select your hex file path(my path is <code>E:\en.stm32cubewl\STM32Cube_FW_WL_V1.0.0\Projects\NUCLEO-WL55JC\Applications\LoRaWAN\LoRaWAN_End_Node\STM32CubeIDE\LoRaWAN_End_Node_Debug.hex</code> ), select the programming options as the following picture, then click <code>Start Programming</code>! Once the prgramming is finished, </li>
</ul>
<p><img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program3.png" /></p>
<h4 id="25-connect-to-ttn">2.5 Connect to TTN<a class="headerlink" href="#25-connect-to-ttn" title="Permanent link">&para;</a></h4>
<ul>
<li>If your LoRaWAN Gateway and TTN are setup, LoRa-E5 will join successfully after reset! A comfirm LoRaWAN package will be sent to TTN every 30 seconds. The following log will come out from the serial port if the join is successful:</li>
</ul>
<div class="highlight"><pre><span></span><code>APP_VERSION:        V1.0.0
MW_LORAWAN_VERSION: V2.2.1
MW_RADIO_VERSION:   V0.6.1
###### OTAA ######
###### AppKey:  2B 7E 15 16 28 AE D2 A6 AB F7 15 88 09 CF 4F 3C
###### NwkKey:  2B 7E 15 16 28 AE D2 A6 AB F7 15 88 09 CF 4F 3C
###### ABP  ######
###### AppSKey: 2B 7E 15 16 28 AE D2 A6 AB F7 15 88 09 CF 4F 3C
###### NwkSKey: 2B 7E 15 16 28 AE D2 A6 AB F7 15 88 09 CF 4F 3C
###### DevEui:  00-80-E1-15-00-07-4C-D5
###### AppEui:  70-B3-D5-7E-D0-03-F0-6A
0s045:TX on freq 868100000 Hz at DR 0
1s550:MAC txDone
6s572:RX_1 on freq 868100000 Hz at DR 0
6s779:MAC rxTimeOut
7s572:RX_2 on freq 869525000 Hz at DR 0
7s709:PRE OK
8s246:HDR OK
9s393:MAC rxDone

###### = JOINED = OTAA =====================
30s068:temp= 25
30s068:VDDA= 254
30s069:TX on freq 868500000 Hz at DR 0
30s082:SEND REQUEST
31s728:MAC txDone
32s750:RX_1 on freq 868500000 Hz at DR 0
32s957:MAC rxTimeOut
33s706:RX_2 on freq 869525000 Hz at DR 3
33s744:PRE OK
33s815:HDR OK
33s897:MAC rxDone

###### ========== MCPS-Confirm =============
</code></pre></div>
<p><img alt="" src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/serial.png" /></p>
<ul>
<li>Cheers! You have already connected LoRa-E5 to LoRaWAN Network! Can't wait to see you develop some wonderful LoRaWAN End Node applications!</li>
</ul>
<h2 id="power-management"><strong>POWER MANAGEMENT</strong><a class="headerlink" href="#power-management" title="Permanent link">&para;</a></h2>
<hr />
<p>The system can be powered in 3 ways. </p>
<ul>
<li>Type C USB</li>
<li>3.7V lipo battery</li>
<li>4.5~28VDC via the Terminal</li>
</ul>
<p>To save power, the system has two 3.3V branches, controlled by MOSFETs. </p>
<ul>
<li>3.3V power supply for CAN and 485</li>
<li>Grove 3.3V output</li>
</ul>
<p>The schematics shown as below,</p>
<p><img alt="" src="https://raw.githubusercontent.com/Longan-Labs/lora_e5_can_res/main/images/MOS.jpg" /></p>
<ul>
<li>To open the 3.3V power for CAN/485, please set PA9 to HIGH.</li>
<li>To open the 3.3V power for the Grove, please set PB10 to HIGH</li>
</ul>
<h2 id="can-fd-usage"><strong>CAN FD Usage</strong><a class="headerlink" href="#can-fd-usage" title="Permanent link">&para;</a></h2>
<hr />
<p>LoRa E5 CAN FD dev board supports CAN FD and CAN 2.0 communication protocols. We use a microcontroller GD32C103 with CAN FD function as CAN controller, we have written a firmware for GD32C103, through this firmware, CAN FD bus can be read and written through I2C. The rate of the I2C bus is 100kb/s.</p>
<h3 id="features-of-can-bus"><strong><em>Features of CAN Bus</em></strong><a class="headerlink" href="#features-of-can-bus" title="Permanent link">&para;</a></h3>
<ul>
<li>I2C Address: 0x41</li>
<li>Rate of I2C: 100kb/s</li>
<li>Max baudrate of CAN FD: 5Mb/s</li>
</ul>
<h3 id="register-address"><strong><em>Register Address</em></strong><a class="headerlink" href="#register-address" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>ADDRESS</th>
<th>DESCRIBE</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x09</td>
<td>CAN Setting</td>
</tr>
<tr>
<td>0x05</td>
<td>Send a Frame</td>
</tr>
<tr>
<td>0x04</td>
<td>Check if CAN Bus receive a frame</td>
</tr>
<tr>
<td>0x06</td>
<td>Read the basic info of a can frame</td>
</tr>
<tr>
<td>0x07</td>
<td>Read first 32 bytes of a can frame</td>
</tr>
<tr>
<td>0x08</td>
<td>Read nex 32 bytes of a can frame (if have)</td>
</tr>
</tbody>
</table>
<h3 id="configuring-can-fd"><strong><em>Configuring CAN FD</em></strong><a class="headerlink" href="#configuring-can-fd" title="Permanent link">&para;</a></h3>
<p>Before we can start using CAN FD, we need to send 49 data passes to the CAN FD controller.</p>
<p>These data are defined as follows</p>
<table>
<thead>
<tr>
<th>BYTE</th>
<th>DESCRIBE</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Register address, 0x09</td>
</tr>
<tr>
<td>1-4</td>
<td>CAN2.0 baud rate, 4 bytes, preceded by high-order 8 bits</td>
</tr>
<tr>
<td>5-8</td>
<td>CANFD baud rate, 4 bytes, preceded by high-order 8 bits</td>
</tr>
<tr>
<td>9</td>
<td>Mask&amp;Filt0 flag, 0: No set, 1: Set</td>
</tr>
<tr>
<td>10</td>
<td>Extended frame flag for Mask&amp;Filt0, 1 for extended frame, 0 for standard frame</td>
</tr>
<tr>
<td>11-14</td>
<td>Mask0, 4 bytes</td>
</tr>
<tr>
<td>15-18</td>
<td>Filt0, 4 bytes</td>
</tr>
<tr>
<td>19</td>
<td>Mask&amp;Filt0 flag, 0: No set, 1: Set</td>
</tr>
<tr>
<td>20</td>
<td>Extended frame flag for Mask&amp;Filt0, 1 for extended frame, 0 for standard frame</td>
</tr>
<tr>
<td>21-24</td>
<td>Mask0, 4 bytes</td>
</tr>
<tr>
<td>25-28</td>
<td>Filt0, 4 bytes</td>
</tr>
<tr>
<td>29</td>
<td>Mask&amp;Filt0 flag, 0: No set, 1: Set</td>
</tr>
<tr>
<td>30</td>
<td>Extended frame flag for Mask&amp;Filt0, 1 for extended frame, 0 for standard frame</td>
</tr>
<tr>
<td>31-34</td>
<td>Mask0, 4 bytes</td>
</tr>
<tr>
<td>35-38</td>
<td>Filt0, 4 bytes</td>
</tr>
<tr>
<td>39</td>
<td>Mask&amp;Filt0 flag, 0: No set, 1: Set</td>
</tr>
<tr>
<td>40</td>
<td>Extended frame flag for Mask&amp;Filt0, 1 for extended frame, 0 for standard frame</td>
</tr>
<tr>
<td>41-44</td>
<td>Mask0, 4 bytes</td>
</tr>
<tr>
<td>45-48</td>
<td>Filt0, 4 bytes</td>
</tr>
</tbody>
</table>
<h3 id="send-a-can-frame"><strong><em>Send a CAN Frame</em></strong><a class="headerlink" href="#send-a-can-frame" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>BYTE</th>
<th>DESCRIBE</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Register address, 0x05</td>
</tr>
<tr>
<td>1-4</td>
<td>ID for CAN frame</td>
</tr>
<tr>
<td>5</td>
<td>Remote frame flag, 1 for remote frame, 0 for data frame</td>
</tr>
<tr>
<td>6</td>
<td>Ext or standard frame, 1 for ext frame, 0 for std frame</td>
</tr>
<tr>
<td>7</td>
<td>CAN FD flag, 1 for CAN FD frame, 0 for std frame</td>
</tr>
<tr>
<td>8</td>
<td>Length of data frame</td>
</tr>
<tr>
<td>9-n</td>
<td>Data</td>
</tr>
</tbody>
</table>
<h3 id="read-a-can-frame"><strong><em>Read a CAN Frame</em></strong><a class="headerlink" href="#read-a-can-frame" title="Permanent link">&para;</a></h3>
<p>Before reading CAN Bus data, we need to see if CAN Bus has received data.</p>
<p>We can read register 0x04 to check the number of data received by CAN Bus. If the returned number is not 0, it means that CAN Bus has received data.</p>
<p>First, we need to read 8 Bytes of data from register 0x06, which is the basic content of a CAN Frame. The definitions of these 8 data are as follows.</p>
<table>
<thead>
<tr>
<th>BYTE</th>
<th>DESCRIBE</th>
</tr>
</thead>
<tbody>
<tr>
<td>0-3</td>
<td>ID for CAN frame</td>
</tr>
<tr>
<td>4</td>
<td>Ext or standard frame, 1 for ext frame, 0 for std frame</td>
</tr>
<tr>
<td>5</td>
<td>Remote frame flag, 1 for remote frame, 0 for data frame</td>
</tr>
<tr>
<td>6</td>
<td>CAN FD flag, 1 for CAN FD frame, 0 for std frame</td>
</tr>
<tr>
<td>7</td>
<td>Length of data frame</td>
</tr>
</tbody>
</table>
<p>If the length of the data is less than 32, such as N, then we need to request N data from register 0x07, and this part of the data is the data of the CAN Frame.</p>
<p>If the length of the data is greater than 32, such as N, then we first need to request 32 data from register 0x07, and then N-32 data from register 0x08.</p>
<h2 id="application-notes_1"><strong>APPLICATION NOTES</strong><a class="headerlink" href="#application-notes_1" title="Permanent link">&para;</a></h2>
<hr />
<ul>
<li>LoRa-E5 only supports high power output mode, so you can't use these macro defnitions in <code>radio_board_if.h</code> :</li>
</ul>
<div class="highlight"><pre><span></span><code>#define RBI_CONF_RFO     RBI_CONF_RFO_LP_HP
// or
#define RBI_CONF_RFO     RBI_CONF_RFO_LP
</code></pre></div>
<p>More demos coming soon...</p>
<h2 id="schematic-online-viewer"><strong><em>SCHEMATIC ONLINE VIEWER</em></strong><a class="headerlink" href="#schematic-online-viewer" title="Permanent link">&para;</a></h2>
<hr />
<div class="altium-ecad-viewer" data-project-src="https://github.com/Longan-Labs/lora_e5_can_res/raw/main/CANBED-LORA.zip" style="border-radius: 0px 0px 4px 4px; height: 500px; border-style: solid; border-width: 1px; border-color: rgb(241, 241, 241); overflow: hidden; max-width: 1280px; max-height: 700px; box-sizing: border-box;" />
</div>
<h2 id="resources"><strong>RESOURCES</strong><a class="headerlink" href="#resources" title="Permanent link">&para;</a></h2>
<hr />
<p>LoRa-E5 CAN FD Development Board Datasheet:</p>
<ul>
<li><a href="https://github.com/Longan-Labs/lora_e5_can_res/raw/main/CANBED-LORA.zip">Schematics in Eagle Format</a></li>
</ul>
<p>LoRa-E5 Datasheet: </p>
<ul>
<li>
<p><p><a href="https://files.seeedstudio.com/products/317990687/res/LoRa-E5%20module%20datasheet_V1.0.pdf">LoRa-E5 datasheet and specifications</a></p></p>
</li>
<li>
<p><p><a href="https://files.seeedstudio.com/products/317990687/res/LoRa-E5%20AT%20Command%20Specification_V1.0%20.pdf">LoRa-E5 AT Command Specification</a></p></p>
</li>
<li>
<p><p><a href="https://files.seeedstudio.com/products/317990687/res/STM32WLE5JC%20Datasheet.pdf">STM32WLE5JC Datasheet</a></p></p>
</li>
</ul>
<p>LoRa-E5 Certifications:</p>
<ul>
<li>
<p><p><a href="https://files.seeedstudio.com/products/317990687/res/LoRa-E5-HF%20Certification%20CE-VOC-RED.pdf">LoRa-E5-HF Certification CE-VOC-RED</a></p></p>
</li>
<li>
<p><p><a href="https://files.seeedstudio.com/products/317990687/res/LoRa-E5-HF%20FCC%20Certification%20-DSS.pdf">LoRa-E5-HF FCC Certification -DSS</a></p></p>
</li>
<li>
<p><p><a href="https://files.seeedstudio.com/products/317990687/res/LoRa-E5-HF%20FCC%20Certification%20-DTS.pdf">LoRa-E5-HF FCC Certification -DTS</a></p></p>
</li>
</ul>
<p>Relevant SDK: </p>
<ul>
<li><p><a href="https://my.st.com/content/my_st_com/en/products/embedded-software/mcu-mpu-embedded-software/stm32-embedded-software/stm32cube-mcu-mpu-packages/stm32cubewl.license=1608693595598.product=STM32CubeWL.version=1.0.0.html#overview" target="_blank">STM32Cube MCU Package for STM32WL series</a></p></li>
</ul>
<h2 id="tech-support"><strong><em>TECH SUPPORT</em></strong><a class="headerlink" href="#tech-support" title="Permanent link">&para;</a></h2>
<hr />
<p>Please submit any technical issue into our <a href="http://forum.seeedstudio.com/">forum</a>. </p>
<p><br /><p style="text-align:center"><a href="https://www.seeedstudio.com/act-4.html?utm_source=wiki&utm_medium=wikibanner&utm_campaign=newproducts" target="_blank"><img src="https://files.seeedstudio.com/wiki/Wiki_Banner/new_product.jpg" /></a></p></p>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Stephen Lo
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
        <script src="../javascripts/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>